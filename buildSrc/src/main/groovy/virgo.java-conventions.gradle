// https://docs.gradle.org/current/samples/sample_convention_plugins.html
plugins {
    id 'java'
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(8)
    }
}

repositories {
    mavenCentral()
    maven {
        url file("$rootProject.projectDir/mirror/mavenRepository").toURI().toURL()
    }
}

dependencies {
    constraints {
        implementation "org.slf4j:slf4j-api:${slf4jVersion}"
        implementation "org.slf4j:jul-to-slf4j:${slf4jVersion}"

        implementation "ch.qos.logback:logback-core:${logbackVersion}"
        implementation "ch.qos.logback:logback-classic:${logbackVersion}"

        implementation "org.apache.httpcomponents:httpcore:${httpcoreVersion}"
        implementation "org.apache.httpcomponents:httpclient:${httpclientVersion}"

        // Eclipse Kepler 4.3.2 (SR2) - local Maven mirror
        implementation "org.eclipse.platform:org.eclipse.osgi:${equinoxVersion}"
        implementation "org.eclipse.platform:org.eclipse.osgi.services:${osgiServicesVersion}"
        implementation "org.eclipse.platform:org.eclipse.equinox.cm:${equinoxCmVersion}"
        implementation "org.eclipse.platform:org.eclipse.equinox.region:${equinoxRegionVersion}"

        testImplementation "org.easymock:easymock:${easymockVersion}"

        implementation "junit:junit:${junitVersion}"
        testImplementation "junit:junit:${junitVersion}"
    }
}

dependencies {
    testImplementation 'junit:junit'

    testImplementation 'org.easymock:easymock'
}

test {
    useJUnit()

    maxHeapSize = '1G'
}
