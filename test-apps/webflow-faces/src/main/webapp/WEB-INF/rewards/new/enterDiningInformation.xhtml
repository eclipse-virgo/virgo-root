<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:sf="http://www.springframework.org/tags/faces">	

<ui:composition template="/WEB-INF/layouts/defaultLayout.xhtml">

<ui:define name="title">Enter Dining Information</ui:define>

<ui:define name="content">

<ui:fragment id="messages">
	<div id="messagesInsertionPoint">
		<h:messages errorClass="error" />
	</div>
</ui:fragment>
		
<h:form id="newDiningForm">
	<fieldset>
		<legend>#{resourceBundle['title.DiningInformation']}</legend>
		<ol>
			<li>
				<h:outputLabel for="creditCard">#{resourceBundle['label.CreditCard']}</h:outputLabel>
				<div class="control">
					<sf:clientTextValidator required="true" regExp="[0-9]{16}" invalidMessage="#{resourceBundle['error.creditCard.invalidNumber']}">
						<h:inputText id="creditCard" value="#{diningForm.creditCardNumber}" required="true" />
					</sf:clientTextValidator>		
				</div>
			</li>
			<li>
				<h:outputLabel for="merchantNumber">#{resourceBundle['label.Restaurant']}</h:outputLabel>
				<div class="control">
					<h:selectOneMenu id="merchantNumber" value="#{diningForm.merchantNumber}">
						<f:selectItems value="#{restaurants}" />
					</h:selectOneMenu>
				</div>
			</li>
			<li>
				<h:outputLabel for="amount">#{resourceBundle['label.DiningAmount']}</h:outputLabel>
				<div class="control">
					<sf:clientTextValidator required="true" regExp="[$]{0,1}\\d*|[$]{0,1}\\d*\\.\\d\\d" invalidMessage="#{resourceBundle['typeMismatch.common.money.MonetaryAmount']}">
						<h:inputText id="amount" value="#{diningForm.amount}" required="true" />
					</sf:clientTextValidator>
				</div>
			</li>
			<li>
				<h:outputLabel for="date">#{resourceBundle['label.Date']}</h:outputLabel>
				<div class="control">
					<sf:clientDateValidator required="true" >
			        	<h:inputText id="date" value="#{diningForm.date}" required="true">
		                	<f:convertDateTime pattern="yyyy-MM-dd" timeZone="EST"/>
		                </h:inputText>
   	            	</sf:clientDateValidator>
				</div>
			</li>
		</ol>
		<sf:validateAllOnClick>
			<sf:commandButton id="reward" action="reward" processIds="*" value="#{resourceBundle['navigate.Reward']}"/>
		</sf:validateAllOnClick>
	</fieldset>
</h:form>

</ui:define>

</ui:composition>

</html>